<!DOCTYPE html>
<html lang="en"><head>
<script src="05_files/libs/clipboard/clipboard.min.js"></script>
<script src="05_files/libs/quarto-html/tabby.min.js"></script>
<script src="05_files/libs/quarto-html/popper.min.js"></script>
<script src="05_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="05_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="05_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="05_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.269">

  <meta name="author" content="Ігор Мірошниченко">
  <title>06 - Гетероскедастичність, частина 2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="05_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="05_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="05_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="05_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="05_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="05_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="05_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="05_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="05_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="05_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="05_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">06 - Гетероскедастичність, частина 2</h1>
  <p class="subtitle">Економетрика</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ігор Мірошниченко 
</div>
        <p class="quarto-title-affiliation">
            КНЕУ::ІІТЕ
          </p>
    </div>
</div>

  <p class="date">4/24/23</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">ЗМІСТ</h2>
<ul>
<li><a href="#/огляд" id="/toc-огляд">Огляд</a></li>
<li><a href="#/життя-з-гетероскедастичністю" id="/toc-життя-з-гетероскедастичністю">Життя з гетероскедастичністю</a></li>
<li><a href="#/приклад-специфікація-моделі" id="/toc-приклад-специфікація-моделі">Приклад: Специфікація моделі</a></li>
<li><a href="#/приклад-het.-robust-standard-errors" id="/toc-приклад-het.-robust-standard-errors">Приклад: Het.-robust standard errors</a></li>
<li><a href="#/приклад-wls" id="/toc-приклад-wls">Приклад: WLS</a></li>
</ul>
</nav>
</section>
<section>
<section id="огляд" class="title-slide slide level1 center">
<h1>Огляд</h1>

</section>
<section id="огляд-1" class="slide level2">
<h2>Огляд</h2>
<p>Три контрольні питання</p>
<p><strong>Питання 1:</strong> Яка різниця між <span class="math inline">\(u_i\)</span> і <span class="math inline">\(e_i\)</span>?</p>
<p><strong>Питання 2:</strong> Ми витрачаємо <em>багато</em> часу на обговорення <span class="math inline">\(u_i^2\)</span>. Чому?</p>
<p><strong>Питання 3:</strong> Ми також витрачаємо <em>багато</em> часу на обговорення <span class="math inline">\(e_i^2\)</span>. Чому?</p>
</section>
<section id="огляд-2" class="slide level2 smaller">
<h2>Огляд</h2>
<p><strong>Питання 1:</strong> Яка різниця між <span class="math inline">\(u_i\)</span> і <span class="math inline">\(e_i\)</span>?</p>
<p><strong>Відповідь 1:</strong></p>
<div class="fragment">
<p><br> <span class="math inline">\(\color{#e64173}{u_i}\)</span> дає <span class="hi">збурення генеральної сукупності</span> для <strong><span class="math inline">\(i\)</span></strong> спостереження.</p>
</div>
<div class="fragment">
<p><span class="math inline">\(u_i\)</span> вимірює, наскільки далеко <strong><span class="math inline">\(i\)</span></strong> спостереження знаходиться від лінії <span class="hi">генеральної сукупності</span>, <em>тобто</em>,</p>
<p><span class="math display">\[u_i = y_i - \color{#e64173}{\left(\beta_0 + \beta_1 x_i\right)}\]</span></p>
</div>
<div class="fragment">
<p><span class="math inline">\(\color{#6A5ACD}{e_i}\)</span> це <span class="hi-purple">залишоки регресії (помилка)</span> для <strong><span class="math inline">\(i\)</span></strong> спостереженнь.</p>
</div>
<div class="fragment">
<p><span class="math inline">\(e_i\)</span> вимірює, наскільки далеко <strong><span class="math inline">\(i\)</span></strong> спостереження знаходиться від лінії <span class="hi-purple">вибіркової регресії</span>, <em>тобто</em>,</p>
<p><span class="math display">\[ e_i = y_i - \color{#6A5ACD}{\underbrace{\left(\hat{\beta}_0 + \hat{\beta}_1 x_i\right)}_{ \text{Вибірк. регрес. лінія} = \hat{y}}} = y_i - \color{#6A5ACD}{\hat{y}_i} \]</span></p>
</div>
</section>
<section id="огляд-3" class="slide level2">
<h2>Огляд</h2>
<p><strong>Питання 2:</strong> Ми витрачаємо <em>багато</em> часу на обговорення <span class="math inline">\(u_i^2\)</span>. Чому?</p>
<p><strong>Відповідь 2:</strong></p>
<p>Одним із основних припущень є те, що наші збурення (<span class="math inline">\(u_i\)</span>) є гомоскедастичними (вони мають постійну дисперсію), <em>тобто</em>, <span class="math inline">\(\mathop{\text{Var}} \left(u_i \middle| x_i \right) = \sigma^2\)</span>.</p>
<p>Ми також припускаємо, що середнє значення цих збурень дорівнює нулю, <span class="math inline">\(\color{#e64173}{\mathop{\boldsymbol{E}}\left[ u_i \middle| x_i \right] = 0}\)</span>.</p>
<p>За визначенням, <span class="math inline">\(\mathop{\text{Var}} \left( u_i \middle| x_i \right) = \mathop{\boldsymbol{E}}\Big[ u_i^2 - \underbrace{\color{#e64173} {\mathop{\boldsymbol{E}}\left[ u_i \middle| x_i \right]}^2}_{\color{#e64173}{=0}} \Big| x_i \Big] = \mathop{\boldsymbol{E}}\left[ u_i^2 \middle| x_i \right]\)</span></p>
<p>Таким чином, якщо ми хочемо дізнатися про дисперсію <span class="math inline">\(u_i\)</span>, ми можемо зосередитися на <span class="math inline">\(u_i^2\)</span>.</p>
</section>
<section id="огляд-4" class="slide level2">
<h2>Огляд</h2>
<p><strong>Питання 3:</strong> Ми також витрачаємо <em>багато</em> часу на обговорення <span class="math inline">\(e_i^2\)</span>. Чому?</p>
<p><strong>Відповідь 3:</strong></p>
<p>Ми не можемо спостерігати <span class="math inline">\(u_i\)</span> (або <span class="math inline">\(u_i^2\)</span>).</p>
<p>Але <span class="math inline">\(u_i^2\)</span> говорить нам про дисперсію <span class="math inline">\(u_i\)</span>.</p>
<p>Ми використовуємо <span class="math inline">\(e_i^2\)</span>, щоб дізнатися про <span class="math inline">\(u_i^2\)</span> і, в результаті <span class="math inline">\(\sigma_i^2\)</span>.</p>
</section>
<section id="огляд-поточні-припущення" class="slide level2">
<h2>Огляд: поточні припущення</h2>
<ol type="1">
<li>Наша вибірка (<span class="math inline">\(x_k\)</span> та <span class="math inline">\(y_i\)</span>) була <span class="hi">випадковим чином</span> відібрана з сукупності.</li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li><span class="math inline">\(y\)</span> є <span class="hi">лінійною функцією</span> <span class="math inline">\(\beta_k\)</span> і <span class="math inline">\(u_i\)</span>.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>У нашій вибірці немає ідеальної <span class="hi">мультиколінеарності</span>.</li>
</ol>
</div>
<div class="fragment">
<ol start="4" type="1">
<li>Пояснювальні змінні є <span class="hi">екзогенними</span>: <span class="math inline">\(\mathop{\boldsymbol{E}}\left[ u \middle| X \right] = 0 \left(\implies \mathop{\boldsymbol{E}}\left[ u \right] = 0\right)\)</span>.</li>
</ol>
</div>
<div class="fragment">
<ol start="5" type="1">
<li><p>Збурення мають <span class="hi">постійну дисперсію</span> <span class="math inline">\(\sigma^2\)</span> і <span class="hi">нульова коваріація</span>, <em>тобто</em>,</p>
<ul>
<li><span class="math inline">\(\mathop{\boldsymbol{E}}\left[ u_i^2 \middle| X_i \right] = \mathop{\text{Var}} \left( u_i \middle| X_i \right) = \sigma^2 \implies \mathop{\text{Var}} \left( u_i \right) = \ сигма^2\)</span></li>
<li><span class="math inline">\(\mathop{\text{Cov}} \left( u_i, \, u_j \middle| X_i,\,X_j \right) = \mathop{\boldsymbol{E}}\left[ u_i u_j \middle| X_i,\,X_j \right] = 0\)</span> для <span class="math inline">\(i\neq j\)</span></li>
</ul></li>
</ol>
</div>
<div class="fragment">
<ol start="6" type="1">
<li>Збурення походять з <span class="hi">нормального</span> розподілу , <em>тобто</em>, <span class="math inline">\(u_i \overset{\text{iid}}{\sim} \mathop{\text{N}}\left( 0, \sigma^2 \right)\)</span>.</li>
</ol>
</div>
</section>
<section id="огляд-5" class="slide level2">
<h2>Огляд</h2>
<p>Сьогодні ми зосереджуємось на припущенні #5:</p>
<blockquote>
<p>5. Збурення мають <span class="hi">постійну дисперсію</span> <span class="math inline">\(\sigma^2\)</span> і <span class="hi">нульова коваріація</span>, <em>тобто</em>,</p>
</blockquote>
<ul>
<li><span class="math inline">\(\mathop{\boldsymbol{E}}\left[ u_i^2 \middle| X_i \right] = \mathop{\text{Var}} \left( u_i \middle| X_i \right) = \sigma^2 \implies \mathop{\text{Var}} \left( u_i \right) = \ сигма^2\)</span></li>
<li><span class="math inline">\(\mathop{\text{Cov}} \left( u_i, \, u_j \middle| X_i,\,X_j \right) = \mathop{\boldsymbol{E}}\left[ u_i u_j \middle| X_i,\,X_j \right] = 0\)</span> для <span class="math inline">\(i\neq j\)</span></li>
</ul>
<div class="fragment">
<p>Зокрема, ми зосередимося на припущенні <span class="hi">постійна дисперсія</span> (також відомому як <em>гомоскедастичність</em>).</p>
</div>
<div class="fragment">
<p><strong>Порушення цього припущення:</strong> Наші збурення мають різні дисперсії.</p>
</div>
<div class="fragment">
<p><span class="hi">Гетероскедастичність:</span> <span class="math inline">\(\mathop{\text{Var}} \left( u_i \right) = \sigma^2_i\)</span> і <span class="math inline">\(\sigma^2_i \neq \sigma^2_j\)</span> для деяких <span class="math inline">\(i\neq j\)</span> .</p>
</div>
</section>
<section id="огляд-6" class="slide level2">
<h2>Огляд</h2>
<p>Класичний приклад гетероскедастичності: воронка</p>
<p>Дисперсія <span class="math inline">\(u\)</span> зростає разом із <span class="math inline">\(x\)</span></p>

<img data-src="05_files/figure-revealjs/het%20ex1-1.svg" width="960" class="r-stretch"></section>
<section id="огляд-7" class="slide level2">
<h2>Огляд</h2>
<p>Інший приклад гетероскедастичності: (подвійна воронка?)</p>
<p>Дисперсія <span class="math inline">\(u\)</span> зростає на крайніх значеннях <span class="math inline">\(x\)</span></p>

<img data-src="05_files/figure-revealjs/het%20ex2%20-1.svg" width="960" class="r-stretch"></section>
<section id="огляд-8" class="slide level2">
<h2>Огляд</h2>
<p>Інший приклад гетероскедастичності:</p>
<p>Різні дисперсії <span class="math inline">\(u\)</span> по групам</p>

<img data-src="05_files/figure-revealjs/het%20ex3%20-1.svg" width="960" class="r-stretch"></section>
<section id="огляд-9" class="slide level2">
<h2>Огляд</h2>
<p><span class="hi">Гетероскедастичність</span> присутня, коли дисперсія <span class="math inline">\(u\)</span> змінюється з будь-якою комбінацією наших пояснювальних змінних від <span class="math inline">\(x_1\)</span> до <span class="math inline">\(x_k\)</span>.</p>
</section>
<section id="тестування-на-гетероскедастичності" class="slide level2 smaller">
<h2>Тестування на гетероскедастичності</h2>
<p>У нас є кілька тестів, які можуть допомогти нам виявити гетероскедастичність.</p>
<ul>
<li>Goldfeld-Quandt</li>
<li>White</li>
<li>Breusch-Pagan</li>
</ul>
<div class="fragment">
<p>Що ми робимо, якщо гетероскедастичність присутня?</p>
</div>
</section></section>
<section>
<section id="життя-з-гетероскедастичністю" class="title-slide slide level1 center">
<h1>Життя з гетероскедастичністю</h1>

</section>
<section id="життя-з-гетероскедастичністю-1" class="slide level2">
<h2>Життя з гетероскедастичністю</h2>
<p>При наявності гетероскедастичності МНК є</p>
<ul>
<li>все ще <span class="hi">незміщеною</span></li>
<li><span class="hi">більше не найефективніший</span> незміщений лінійний оцінювач</li>
</ul>
<p>У середньому ми отримуємо правильну відповідь, але з більшим шумом (меншою точністю). <br> <em>Також:</em> Наші стандартні помилки є зміщеними</p>
<div class="fragment">
<p><strong>Опції:</strong></p>
<ol type="1">
<li>Перевірте <span class="hi">специфікацію</span> регресії .</li>
<li>Знайдіть новий, більш ефективний <span class="hi">незміщений оцінювач</span> для <span class="math inline">\(\beta_j\)</span>.</li>
<li>Жити з неефективністю МНК; знайти <span class="hi">новий засіб оцінки дисперсії</span>.
<ul>
<li>Стандартні помилки</li>
<li>Довірчі інтервали</li>
<li>Перевірка гіпотез</li>
</ul></li>
</ol>
</div>
</section>
<section id="неправильна-специфікація" class="slide level2">
<h2>Неправильна специфікація</h2>
<p>Як ми вже обговорювали, специфікація вашої моделі регресії має велике значення для неупередженості та ефективності вашого оцінювача.</p>
<p><strong>Відповідь #1:</strong> Переконайтеся, що ваша специфікація не викликає гетероскедастичності.</p>
</section>
<section id="неправильна-специфікація-1" class="slide level2">
<h2>Неправильна специфікація</h2>
<p><em>Приклад:</em> Нехай залежність у ГС буде <span class="math display">\[ y_i = \beta_0 + \beta_1 x_i + \beta_2 x_i^2 + u_i \]</span></p>
<p>з <span class="math inline">\(\mathop{\boldsymbol{E}}\left[ u_i \middle| x_i \right] = 0\)</span> і <span class="math inline">\(\mathop{\text{Var}} \left( u_i \middle| x_i \right) = \sigma^2\)</span>.</p>
<p>Однак ми пропускаємо <span class="math inline">\(x^2\)</span> і оцінюємо <span class="math display">\[ y_i = \gamma_0 + \gamma_1 x_i + w_i \]</span></p>
<p>Тоді <span class="math display">\[ w_i = u_i + \beta_2 x_i^2 \implies \mathop{\text{Var}} \left( w_i \right) = f(x_i) \]</span></p>
<p><em>Тобто</em>, дисперсія <span class="math inline">\(w_i\)</span> змінюється систематично з <span class="math inline">\(x_i\)</span> (гетероскедастичність).</p>
</section>
<section id="неправильна-специфікація-2" class="slide level2">
<h2>Неправильна специфікація</h2>
<p><span class="pink">Дійсність:</span> <span class="math inline">\(\color{#e64173}{\log\left(y_i\right) = \beta_0 + \beta_1 x_i + u_i}\)</span>  <span class="slate"><strong>Неправильна:</strong></span> <span class="math inline">\(\color{#314f4f}{y_i = \beta_0 + \beta_1 x_i + v_i}\)</span></p>

<img data-src="05_files/figure-revealjs/spec%20plot1-1.svg" width="960" class="r-stretch"></section>
<section id="неправильна-специфікація-3" class="slide level2">
<h2>Неправильна специфікація</h2>
<p><span class="pink">Дійсність:</span> <span class="math inline">\(\color{#e64173}{\log\left(y_i\right) = \beta_0 + \beta_1 x_i + u_i}\)</span>  <span class="slate"><strong>Неправильна:</strong></span> <span class="math inline">\(\color{#314f4f}{y_i = \beta_0 + \beta_1 x_i + v_i}\)</span></p>

<img data-src="05_files/figure-revealjs/spec%20plot2-1.svg" width="960" class="r-stretch"></section>
<section id="неправильна-специфікація-4" class="slide level2">
<h2>Неправильна специфікація</h2>
<p>Більш загально:</p>
<p><strong>Проблема неправильної специфікації:</strong> Неправильна специфікація регресійної моделі може спричинити гетероскедастичність (серед інших проблем).</p>
<div class="fragment">
<p><strong>Рішення:</strong> 💡 Зробіть це правильно (<em>наприклад</em>, не пропускайте <span class="math inline">\(x^2\)</span>).</p>
</div>
<div class="fragment">
<p><strong>Нові проблеми:</strong></p>
<ul>
<li>Ми часто не знаємо <em>правильної</em> специфікації.</li>
<li>Ми хотіли б більш формального процесу вирішення проблеми гетероскедастичності.</li>
</ul>
</div>
<div class="fragment">
<p><strong>Висновок: </strong> Специфікація часто не «вирішить» гетероскедастичність. <br> Однак правильне визначення моделі все одно є дуже важливим.</p>
</div>
</section>
<section id="зважений-мнк" class="slide level2">
<h2>Зважений МНК</h2>
<p>Зважений МНК (WLS) представляє інший підхід.</p>
<p><strong>Відповідь #2:</strong> Підвищення ефективності шляхом зважування наших спостережень.</p>
<div class="fragment">
<p>Нехай буде справжнім співвідношенням населення</p>
<p><span class="math display">\[
\begin{align}
   y_i = \beta_0 + \beta_1 x_{i} + u_i \tag{1}
\end{align}
\]</span></p>
<p>з <span class="math inline">\(u_i \sim \mathop{N} \left( 0,\, \sigma_i^2 \right)\)</span>.</p>
</div>
<div class="fragment">
<p>Тепер перетворіть <span class="math inline">\((1)\)</span>, поділивши дані кожного спостереження на <span class="math inline">\(\sigma_i\)</span>, <em>тобто</em>,</p>
<p><span class="math display">\[
\begin{align}
   \dfrac{y_i}{\sigma_i} &amp;= \beta_0 \dfrac{1}{\sigma_i} + \beta_1 \dfrac{x_{i}}{\sigma_i} + \dfrac{u_i}{\sigma_i} \tag{ 2}
\end{align}
\]</span></p>
</div>
</section>
<section id="зважений-мнк-1" class="slide level2">
<h2>Зважений МНК</h2>
<p><span class="math display">\[
\begin{align}
  y_i &amp;= \beta_0 + \beta_1 x_{i} + u_i \tag{1} \\[1em]
  \dfrac{y_i}{\sigma_i} &amp;= \beta_0 \dfrac{1}{\sigma_i} + \beta_1 \dfrac{x_{i}}{\sigma_i} + \dfrac{u_i}{\sigma_i} \tag{2}
\end{align}
\]</span></p>
<p>Тоді як <span class="math inline">\((1)\)</span> є гетероскедастичним, а <span class="math inline">\(\color{#e64173}{(2)}\)</span> <span class="hi">гомоскедастичним</span>.</p>
<p>∴ МНК ефективний і незміщенний для оцінки <span class="math inline">\(\beta_k\)</span> у <span class="math inline">\((2)\)</span>!</p>
<div class="fragment">
<p>Чому <span class="math inline">\((2)\)</span> є гомоскедастичним?</p>
<p><span class="math inline">\(\mathop{\text{Var}} \left( \dfrac{u_i}{\sigma_i} \middle| x_i \right) =\)</span> <span class="math inline">\(\dfrac{1}{\sigma_i^2} \mathop{\text{Var}} \left( u_i \middle| x_i \right) =\)</span> <span class="math inline">\(\dfrac{1}{\sigma_i^2} \sigma_i^2 =\)</span> <span class="math inline">\(1\)</span></p>
</div>
</section>
<section id="зважений-мнк-2" class="slide level2">
<h2>Зважений МНК</h2>
<p>ЗМНК — це чудово, але нам потрібно знати <span class="math inline">\(\sigma_i^2\)</span>, що, як правило, малоймовірно.</p>
<p>Ми можемо <em>трохи</em> послабити цю вимогу — замість того, щоб вимагати</p>
<ol type="1">
<li><p><span class="math inline">\(\mathop{\text{Var}} \left( u_i | x_i \right) = \sigma_i^2 = \sigma^2 h(x_i)\)</span></p></li>
<li><p>Ми знаємо <span class="math inline">\(h(x)\)</span>.</p></li>
</ol>
<div class="fragment">
<p>Як і раніше, ми трансформуємо нашу гетероскедастичну модель у гомоскедастичну модель. Цього разу ми ділимо дані кожного спостереження<sup>1</sup> на <span class="math inline">\(\sqrt{h(x_i)}\)</span>.</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Це специфічне рівняння для простої лінійної регресії.</p></li></ol></aside></section>
<section id="зважений-мнк-3" class="slide level2">
<h2>Зважений МНК</h2>
<p><span class="math display">\[
\begin{align}
  y_i &amp;= \beta_0 + \beta_1 x_{i} + u_i \tag{1} \\[1em]
  \dfrac{y_i}{\sqrt{h(x_i)}} &amp;= \beta_0 \dfrac{1}{\sqrt{h(x_i)}} + \beta_1 \dfrac{x_{i}}{\sqrt{h(x_i)}} + \dfrac{u_i}{\sqrt{h(x_i)}} \tag{2}
\end{align}
\]</span></p>
<p>з <span class="math inline">\(\mathop{\text{Var}} \left( u_i | x_i \right) = \sigma^2 h(x_i)\)</span>.</p>
<div class="fragment">
<p>Тепер давайте перевіримо, що <span class="math inline">\((2)\)</span> справді є гомоскедастичним.</p>
<p><span class="math inline">\(\mathop{\text{Var}} \left( \dfrac{u_i}{\sqrt{h(x_i)}} \middle| x_i \right) =\)</span> <span class="math inline">\(\dfrac{1}{h(x_i)} \mathop{\text{Var}} \left( u_i \middle| x_i \right) =\)</span> <span class="math inline">\(\dfrac{1}{h(x_i)} \sigma^2 h(x_i) =\)</span> <span class="math inline">\(\color{#e64173}{\sigma^2}\)</span></p>
<p><span class="hi">гомоскедастичність!</span></p>
</div>
</section>
<section id="зважений-мнк-4" class="slide level2 smaller">
<h2>Зважений МНК</h2>
<p>Оцінювач <span class="hi">WLS</span> — це спеціальний клас оцінок <span class="hi">узагальнених методів найменших квадратів</span> (GLS), зосереджених на гетероскедастичності.</p>
<div class="fragment">
<p><span class="math display">\[
  y_i = \beta_0 + \beta_1 x_{1i} + u_i \quad \color{#e64173}{\text{ vs. }} \quad
  \dfrac{y_i}{\sigma_i} = \beta_0 \dfrac{1}{\sigma_i} + \beta_1 \dfrac{x_{1i}}{\sigma_i} + \dfrac{u_i}{\sigma_i}
\]</span></p>
<p><em>Примітки:</em></p>
<ol type="1">
<li>WLS <strong>перетворює</strong> гетероскедастичну модель на гомоскедастичну модель.</li>
<li><strong>Зважування:</strong> WLS знижує вагу спостережень із вищою дисперсією <span class="math inline">\(u_i\)</span>.</li>
<li><strong>Значна вимога:</strong> WLS вимагає, щоб ми <em>знали</em> <span class="math inline">\(\sigma_i^2\)</span> для кожного спостереження.</li>
<li>WLS, як правило, <strong>неможливий</strong>. <em>Доступний</em> GLS (FGLS) пропонує рішення.</li>
<li>Згідно з припущеннями: WLS є <strong>найкращим лінійним незміщеним оцінювачем</strong>.</li>
</ol>
</div>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p><strong>Heteroskedasticity-robust standard errors</strong></p>
<p><strong>Відповідь #3:</strong></p>
<ul>
<li>Ігнорувати неефективність OLS (при наявності гетероскедастичності).</li>
<li>Зосередьтеся на <span class="hi">незміщеності оцінки стандартних помилок</span>.</li>
<li>Як результат: правильний висновок.</li>
</ul>
<div class="fragment">
<p><strong>Q:</strong> Що таке стандартна помилка? <br><strong>A:</strong> <span class="hi">стандартне відхилення розподілу оцінювача</span>.</p>
</div>
<div class="fragment">
<p>Оцінювачі (наприклад, <span class="math inline">\(\hat{\beta}_1\)</span>) є випадковими величинами, тому вони мають розподіл.</p>
<p>Стандартні помилки дають нам уявлення про те, наскільки варіативним є наш оцінювач.</p>
</div>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки-1" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p><em>Нагадуємо</em>: ми можемо записати оцінку МНК для <span class="math inline">\(\beta_1\)</span> як</p>
<p><span class="math display">\[ \hat{\beta}_1 = \beta_1 + \dfrac{\sum_i \left( x_i - \overline{x} \right) u_i}{\sum_i \left( x_i - \overline{x} \right)^2} = \beta_1 + \dfrac{\sum_i \left( x_i - \overline{x} \right) u_i}{\text{SST}_x} \tag{3} \]</span></p>
<div class="fragment">
<p>Нехай <span class="math inline">\(\mathop{\text{Var}} \left( u_i \middle| x_i \right) = \sigma_i^2\)</span>.</p>
</div>
<div class="fragment">
<p>Ми можемо використовувати <span class="math inline">\((3)\)</span>, щоб записати дисперсію <span class="math inline">\(\hat{\beta}_1\)</span>, <em>тобто</em>,</p>
<p><span class="math display">\[ \mathop{\text{Var}} \left( \hat{\beta}_1 \middle| x_i \right) = \dfrac{\sum_i \left( x_i - \overline{x} \right)^2 \ sigma_i^2}{\text{SST}_x^2} \tag{4} \]</span></p>
</div>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки-2" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p>Якщо ми хочемо отримати незміщену оцінку стандартних помилок, нам потрібна незміщена оцінка</p>
<p><span class="math display">\[ \dfrac{\sum_i \left( x_i - \overline{x} \right)^2 \sigma_i^2}{\text{SST}_x^2} \]</span></p>
<p>Наш старий друг Гел Уайт надав такий оцінювач:<sup>1</sup></p>
<p><span class="math display">\[ \widehat{\mathop{\text{Var}}} \left( \hat{\beta}_1 \right) = \dfrac{\sum_i \left( x_i - \overline{x} \right)^2 e_i ^2}{\text{SST}_x^2} \]</span></p>
<p>де <span class="math inline">\(e_i\)</span> походить від регресії МНК</p>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Це специфічне рівняння для простої лінійної регресії.</p></li></ol></aside></section>
<section id="гетероскедастично-робасті-стандартні-помилки-3" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p>Наші стійкі до гетероскедастичності оцінки для стандартної помилки <span class="math inline">\(\beta_j\)</span>.</p>
<p><span class="hi">Випадок 1</span> Проста лінійна регресія, <span class="math inline">\(y_i = \beta_0 + \beta_1 x_i + u_i\)</span></p>
<p><span class="math display">\[ \widehat{\mathop{\text{Var}}} \left( \hat{\beta}_1 \right) = \dfrac{\sum_i \left( x_i - \overline{x} \right)^2 e_i^2}{\text{SST}_x^2} \]</span></p>
<p><span class="hi">Випадок 2</span> Множинна лінійна регресія, <span class="math inline">\(y_i = \beta_0 + \beta_1 x_{1i} + \cdots + \beta_k x_{ki} + u_i\)</span></p>
<p><span class="math display">\[ \widehat{\mathop{\text{Var}}} \left( \hat{\beta}_j \right) = \dfrac{\sum_i \hat{r}_{ij}^2 e_i^2}{\text{SST}_{x_j^2}} \]</span></p>
<p>де <span class="math inline">\(\hat{r}_{ij}\)</span> позначає <span class="math inline">\(i\)</span> залишок від регресії <span class="math inline">\(x_j\)</span> для всіх інших пояснювальних змінних.</p>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки-4" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p>З цими стандартними помилками ми можемо повернутися до правильного статистичного висновку</p>
<p><em>Наприклад</em>, ми можемо оновити нашу попередню статистичну формулу <span class="math inline">\(t\)</span> за допомогою наших нових стійких до гетероскедастичності стандартних помилок.</p>
<p><span class="math display">\[ t = \dfrac{\text{Estimate} - \text{Hypothesized value}}{\text{Standard error}} \]</span></p>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки-5" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p><strong>Примітки</strong></p>
<ul>
<li>Ми все ще використовуємо <span class="hi">OLS оцінки для</span> <span class="math inline">\(\color{#e64173}{\beta_j}\)</span></li>
<li>Наші робасті стандартні помилки використовують <span class="hi">інший оцінювач</span>.</li>
<li>Гомоскедастичність
<ul>
<li>Звичайна оцінка дисперсії OLS більш ефективна.</li>
<li>Het.-robust все ще незміщена</li>
</ul></li>
<li>Гетероскедастичність
<ul>
<li>Звичайна оцінка дисперсії МНК є зміщеною.</li>
<li>Het.-робастна оцінка дисперсії є незміщеною.</li>
</ul></li>
</ul>
</section>
<section id="гетероскедастично-робасті-стандартні-помилки-6" class="slide level2">
<h2>Гетероскедастично-робасті стандартні помилки</h2>
<p>Ці стандартні помилки мають багато назв</p>
<ul>
<li>Heteroskedasticity-robust standard errors</li>
<li>Het.-robust standard errors</li>
<li>White standard errors</li>
<li>Eicker-White standard errors</li>
<li>Huber standard errors</li>
<li>Eicker-Huber-White standards errors</li>
<li>(деякі ігші комбінації Eicker, Huber, and White)</li>
</ul>
</section></section>
<section>
<section id="приклад-специфікація-моделі" class="title-slide slide level1 center">
<h1>Приклад: Специфікація моделі</h1>

</section>
<section id="приклад" class="slide level2">
<h2>Приклад</h2>
<p>Повертаємось до нашого датасету…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(pacman)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">p_load</span>(tidyverse, Ecdat)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a>test_df <span class="ot">&lt;-</span> Caschool <span class="sc">%&gt;%</span> <span class="fu">select</span>(</span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="at">test_score =</span> testscr, <span class="at">ratio =</span> str, <span class="at">income =</span> avginc, <span class="at">enrollment =</span> enrltot</span>
<span id="cb1-7"><a href="#cb1-7"></a>) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">head</span>(test_df, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  test_score ratio income enrollment
       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;      &lt;int&gt;
1       691.  17.9  22.7         195
2       661.  21.5   9.82        240</code></pre>
</div>
</div>
</section>
<section id="приклад-специфікація-моделі-1" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Ми виявили значні докази гетероскедастичності.</p>
<p>Давайте перевіримо, чи це сталося через неправильну специфікацію нашої моделі.</p>
</section>
<section id="приклад-специфікація-моделі-2" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Model<span class="sub">1</span>: <span class="math inline">\(\text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i\)</span> <br><code>lm(test_score ~ ratio + income, data = test_df)</code></p>

<img data-src="05_files/figure-revealjs/ex%20spec1-1.svg" width="960" class="r-stretch"></section>
<section id="приклад-специфікація-моделі-3" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Model<span class="sub">2</span>: <span class="math inline">\(\log\left(\text{Score}_i\right) = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i\)</span> <br><code>lm(log(test_score) ~ ratio + income, data = test_df)</code></p>

<img data-src="05_files/figure-revealjs/ex%20spec2-1.svg" width="960" class="r-stretch"></section>
<section id="приклад-специфікація-моделі-4" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Model<span class="sub">3</span>: <span class="math inline">\(\log\left(\text{Score}_i\right) = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \log\left(\text{Income}_i\right) + u_i\)</span> <br><code>lm(log(test_score) ~ ratio + log(income), data = test_df)</code></p>

<img data-src="05_files/figure-revealjs/ex%20spec3-1.svg" width="960" class="r-stretch"></section>
<section id="приклад-специфікація-моделі-5" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Давайте перевіримо цю нову специфікацію за допомогою тесту Уайта на гетероскедастичність.</p>
<p>Model<span class="sub">3</span>: <span class="math inline">\(\log\left(\text{Score}_i\right) = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \log\left(\text{Income}_i\right) + u_i\)</span></p>
<div class="fragment">
<p>Регресія для тесту Уайта</p>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
  e_i^2 = &amp;\alpha_0 + \alpha_1 \text{Ratio}_i + \alpha_2 \log\left(\text{Income}_i\right) + \alpha_3 \text{Ratio}_i^2 + \alpha_4 \left(\log\left(\text{Income}_i\right)\right)^2 \\
  &amp;+ \alpha_5 \left(\text{Ratio}_i\times\log\left(\text{Income}_i\right)\right) + v_i
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p><span class="math inline">\(R_e^2\approx0.029\)</span> і тестова статистика <span class="math inline">\(\widehat{\text{LM}} = n\times R_e^2 \approx 12.2\)</span>.</p>
</div>
<div class="fragment">
<p>H<sub>0</sub> <span class="math inline">\(\text{LM}\)</span> розподілена як <span class="math inline">\(\chi_5^2\)</span> <span class="math inline">\(\implies\)</span> <em>p</em>-value <span class="math inline">\(\approx\)</span> 0.033.</p>
</div>
<div class="fragment">
<p>∴ <span class="hi">Відхиляємо H<sub>0</sub></span> <span class="hi">Висновок:</span> Існують статистично значущі докази гетероскедастичності на п’ятивідсотковому рівні.</p>
</div>
</section>
<section id="приклад-специфікація-моделі-6" class="slide level2">
<h2>Приклад: Специфікація моделі</h2>
<p>Гаразд, ми спробували скорегувати нашу специфікацію, але все ще є докази гетероскедастичності.</p>
<p><strong>Далі:</strong> Загалом, ви звернетеся до стійких до гетероскедастичності стандартних помилок.</p>
<ul>
<li><p>OLS все ще неупереджений для <span class="hi">коефіцієнтів</span> (<span class="math inline">\(\beta_j\)</span>’)</p></li>
<li><p>Стійкі до гетероскедастичності стандартні помилки є незміщеними для <span class="hi">стандартних помилок</span> <span class="math inline">\(\hat{\beta}_j\)</span>, <em>тобто</em>, <span class="math inline">\(\sqrt{\mathop{\text{Var}} \left( \hat{\beta}_j \right)}\)</span>.</p></li>
</ul>
</section></section>
<section>
<section id="приклад-het.-robust-standard-errors" class="title-slide slide level1 center">
<h1>Приклад: Het.-robust standard errors</h1>

</section>
<section id="приклад-het.-robust-standard-errors-1" class="slide level2">
<h2>Приклад: Het.-robust standard errors</h2>
<p>Повертаємось до моделі</p>
<p><span class="math display">\[ \text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i \]</span> Ми можемо використовувати пакет <code>fixest</code> у <code>R</code> для обчислення стандартних помилок.</p>
</section>
<section id="приклад-het.-robust-standard-errors-2" class="slide level2">
<h2>Приклад: Het.-robust standard errors</h2>
<p><span class="math display">\[ \text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i \]</span></p>
<p>1. Запустіть регресію за допомогою <code>feols()</code> (замість <code>lm()</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Load 'fixest' package</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">p_load</span>(fixest)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"># Regress log score on ratio and log income</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>test_reg <span class="ot">&lt;-</span> <span class="fu">feols</span>(test_score <span class="sc">~</span> ratio <span class="sc">+</span> income, <span class="at">data =</span> test_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><em>Зверніть увагу</em>, що <code>feols()</code> використовує той самий синтаксис, що і <code>lm()</code> для цієї регресії.</p>
</div>
</section>
<section id="приклад-het.-robust-standard-errors-3" class="slide level2">
<h2>Приклад: Het.-robust standard errors</h2>
<p><span class="math display">\[ \text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i \]</span> 2. Оцініть het.-robust standard errors за допомогою опції <code>vcov = 'hetero'</code> в <code>summary()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Het-robust standard errors with 'vcov = 'hetero''</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">summary</span>(test_reg, <span class="at">vcov =</span> <span class="st">'hetero'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error  t value  Pr(&gt;|t|)    
 (Intercept) 638.729155   7.301234 87.48235 &lt; 2.2e-16 ***
 ratio        -0.648740   0.353340 -1.83602  0.067066 .  
 income        1.839112   0.114733 16.02949 &lt; 2.2e-16 ***</code></pre>
</div>
</div>
</section>
<section id="приклад-het.-robust-standard-errors-4" class="slide level2">
<h2>Приклад: Het.-robust standard errors</h2>
<p>Коефіцієнти та <strong>гетероскедастично-робасті стандартні помилки</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">summary</span>(test_reg, <span class="at">vcov =</span> <span class="st">'hetero'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error  t value  Pr(&gt;|t|)    
 (Intercept) 638.729155   7.301234 87.48235 &lt; 2.2e-16 ***
 ratio        -0.648740   0.353340 -1.83602  0.067066 .  
 income        1.839112   0.114733 16.02949 &lt; 2.2e-16 ***</code></pre>
</div>
</div>
<p>Коефіцієнти та <strong>прості стандартні помилки OLS</strong> (припускається гомоскедастичність):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">summary</span>(test_reg, <span class="at">vcov =</span> <span class="st">'iid'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error  t value  Pr(&gt;|t|)    
 (Intercept) 638.729155   7.449077 85.74608 &lt; 2.2e-16 ***
 ratio        -0.648740   0.354405 -1.83051  0.067888 .  
 income        1.839112   0.092787 19.82083 &lt; 2.2e-16 ***</code></pre>
</div>
</div>
</section></section>
<section>
<section id="приклад-wls" class="title-slide slide level1 center">
<h1>Приклад: WLS</h1>

</section>
<section id="приклад-wls-1" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Ми згадували, що WLS часто неможливий — нам потрібно знати функціональну форму гетероскедастичності — або</p>
<p><strong>A</strong>. <span class="math inline">\(\sigma_i^2\)</span></p>
<p>або</p>
<p><strong>B</strong>. <span class="math inline">\(h(x_i)\)</span>, де <span class="math inline">\(\sigma_i^2 = \sigma^2 h(x_i)\)</span></p>
<div class="fragment">
<p>Є випадки, коли ми можемо знати <span class="math inline">\(h(x_i)\)</span>.</p>
</div>
</section>
<section id="приклад-wls-2" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Уявіть, що окремі особи в популяції мають гомоскедастичні розлади.</p>
<p>Однак замість того, щоб спостерігати за індивідуальними даними, ми спостерігаємо (у даних) середні значення для груп (<em>наприклад</em>, міст, округів, шкільних округів).</p>
<p>Якщо ці групи мають різні розміри, тоді наш набір даних буде гетероскедастичним — передбачуваним способом.</p>
<p><strong>Нагадуємо:</strong> Дисперсія вибіркового середнього залежить від розміру вибірки, <span class="math display">\[ \mathop{\text{Var}} \left( \overline{x} \right) = \dfrac{\sigma_x^2}{n} \]</span></p>
<div class="fragment">
<p><strong>Приклад:</strong> Наші дані шкільного тестування усереднені на рівні школи.</p>
</div>
</section>
<section id="приклад-wls-3" class="slide level2">
<h2>Приклад: WLS</h2>
<p><em>Приклад:</em> Наші дані шкільного тестування усереднені на рівні школи.</p>
<p>Навіть якщо окремі учні мають гомоскедастичні порушення, у школах будуть гетероскедастичні порушення, <em>тобто</em>,</p>
<p><strong>Модель індивідуального рівня:</strong> <span class="math inline">\(\quad \text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i\)</span></p>
<p><strong>Модель шкільного рівня:</strong> <span class="math inline">\(\quad \overline{\text{Score}}_s = \beta_0 + \beta_1 \overline{\text{Ratio}}_s + \beta_2 \overline{\text{Income}}_s + \overline{u}_s\)</span></p>
<p>де індекс <span class="math inline">\(s\)</span> позначає окрему школу (так само, як <span class="math inline">\(i\)</span> індексує окрему особу).</p>
<p><span class="math display">\[ \mathop{\text{Var}} \left( \overline{u}_s \right) = \dfrac{\sigma^2}{n_s} \]</span></p>
</section>
<section id="приклад-wls-4" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Для WLS ми шукаємо функцію <span class="math inline">\(h(x_s)\)</span> таку, що <span class="math inline">\(\mathop{\text{Var}} \left( \overline{u}_s | x_s \right) = \sigma^2 h(x_s )\)</span>.</p>
<div class="fragment">
<p>Ми щойно показали, що <span class="math inline">\(\mathop{\text{Var}} \left( \overline{u}_s |x_s \right) = \dfrac{\sigma^2}{ n_s}\)</span>.</p>
</div>
<div class="fragment">
<p>Таким чином, <span class="math inline">\(h(x_s) = 1/n_s\)</span>, де <span class="math inline">\(n_s\)</span> – кількість учнів у школі <span class="math inline">\(s\)</span>.</p>
</div>
<div class="fragment">
<p>Щоб реалізувати WLS, ми ділимо дані кожного спостереження на <span class="math inline">\(1/\sqrt{h(x_s)}\)</span>, тобто нам потрібно помножити дані кожної школи на <span class="math inline">\(\sqrt{n_s}\)</span>.</p>
</div>
<div class="fragment">
<p>Змінна <code>enrollment</code> у наборі даних <code>test_df</code> є нашим <span class="math inline">\(n_s\)</span>.</p>
</div>
</section>
<section id="приклад-wls-5" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Використання WLS для оцінки <span class="math inline">\(\text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i\)</span></p>
<p><strong>Крок 1:</strong> Помножте кожну змінну на <span class="math inline">\(1/\sqrt{h(x_i)} = \sqrt{\text{Enrollment}_i}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Create WLS transformed variables, multiplying by sqrt of 'pop'</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>test_df <span class="ot">&lt;-</span> <span class="fu">mutate</span>(test_df,</span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="at">test_score_wls =</span> test_score <span class="sc">*</span> <span class="fu">sqrt</span>(enrollment),</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="at">ratio_wls      =</span> ratio <span class="sc">*</span> <span class="fu">sqrt</span>(enrollment),</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="at">income_wls     =</span> income <span class="sc">*</span> <span class="fu">sqrt</span>(enrollment),</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="at">intercept_wls  =</span> <span class="dv">1</span> <span class="sc">*</span> <span class="fu">sqrt</span>(enrollment)</span>
<span id="cb10-7"><a href="#cb10-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Зверніть увагу, що ми створюємо перетворене intercept</p>
</section>
<section id="приклад-wls-6" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Використання WLS для оцінки <span class="math inline">\(\text{Score}_i = \beta_0 + \beta_1 \text{Ratio}_i + \beta_2 \text{Income}_i + u_i\)</span></p>
<p><strong>Крок 2:</strong> Запустіть нашу регресію WLS (трансформовану).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># WLS regression</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>wls_reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>  test_score_wls <span class="sc">~</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">+</span> intercept_wls <span class="sc">+</span> ratio_wls <span class="sc">+</span> income_wls,</span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="at">data =</span> test_df</span>
<span id="cb11-5"><a href="#cb11-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><em>Примітка: </em> «-1» у нашій регресії повідомляє <code>R</code> не додавати intercept, оскільки ми додаємо перетворене intercept (<code>intercept_wls</code>).</p>
</div>
</section>
<section id="приклад-wls-7" class="slide level2">
<h2>Приклад: WLS</h2>
<p><span class="hi">Oцінки WLS і стандартні помилки:</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>               Estimate Std. Error t value Pr(&gt;|t|)    
 intercept_wls 618.78331    8.26929  74.829   &lt;2e-16 ***
 ratio_wls      -0.21314    0.37676  -0.566    0.572    
 income_wls      2.26493    0.09065  24.985   &lt;2e-16 ***</code></pre>
</div>
</div>
<div class="fragment">
<p><br> Стандартні помилки <span class="hi">МНК</span> і <span class="hi">het.-robust:</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error  t value  Pr(&gt;|t|)    
 (Intercept) 638.729155   7.301234 87.48235 &lt; 2.2e-16 ***
 ratio        -0.648740   0.353340 -1.83602  0.067066 .  
 income        1.839112   0.114733 16.02949 &lt; 2.2e-16 ***</code></pre>
</div>
</div>
</div>
</section>
<section id="приклад-wls-8" class="slide level2">
<h2>Приклад: WLS</h2>
<p>Альтернатива власному зважуванню: надайте <code>lm()</code> деякі <code>weights</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">lm</span>(test_score <span class="sc">~</span> ratio <span class="sc">+</span> income, <span class="at">data =</span> test_df, <span class="at">weights =</span> enrollment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="приклад-wls-9" class="slide level2">
<h2>Приклад: WLS</h2>
<p>У цьому прикладі</p>
<ul>
<li><p><span class="hi">Гетероскедастично-робасті стандартні помилки</span> не сильно змінили наші стандартні помилки (порівняно з простими стандартними помилками OLS).</p></li>
<li><p><span class="hi">WLS</span> дещо змінив наші відповіді — коефіцієнти та стандартні помилки.</p></li>
</ul>
<div class="fragment">
<p>Ці приклади підкреслили кілька речей:</p>
<ol type="1">
<li><p>Використання правильного оцінювача стандартних помилок дійсно має значення.</p></li>
<li><p>Економетрика не завжди пропонує очевидно <em>правильний</em> маршрут.</p></li>
</ol>
</div>
<div class="fragment">
<p>Щоб побачити #1, давайте запустимо симуляцію.</p>
</div>
</section>
<section id="симуляція" class="slide level2">
<h2>Симуляція</h2>
<p>Давайте розглянемо просту модель лінійної регресії з гетероскедастичністю.</p>
<p><span class="math display">\[ y_i = \underbrace{\beta_0}_{=1} + \underbrace{\beta_1}_{=10} x_i + u_i \]</span> де <span class="math inline">\(\mathop{\text{Var}} \left( u_i | x_i \right) = \sigma_i^2 = \sigma^2 x_i^2\)</span>.</p>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="05_files/figure-revealjs/sim%20plot%20y-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="симуляція-1" class="slide level2">
<h2>Симуляція</h2>
<p>Давайте розглянемо просту модель лінійної регресії з гетероскедастичністю.</p>
<p><span class="math display">\[ y_i = \underbrace{\beta_0}_{=1} + \underbrace{\beta_1}_{=10} x_i + u_i \]</span> де <span class="math inline">\(\mathop{\text{Var}} \left( u_i | x_i \right) = \sigma_i^2 = \sigma^2 x_i^2\)</span>.</p>

<img data-src="05_files/figure-revealjs/sim%20plot%20u-1.png" width="960" class="r-stretch"></section>
<section id="симуляція-2" class="slide level2">
<h2>Симуляція</h2>
<p><em>Примітка щодо WLS:</em></p>
<p>Оскільки <span class="math inline">\(\mathop{\text{Var}} \left( u_i | x_i \right) = \sigma^2 x_i^2\)</span>,</p>
<p><span class="math display">\[ \mathop{\text{Var}} \left( u_i | x_i \right) = \sigma^2 h(x_i) \implies h(x_i) = x_i^2 \]</span></p>
<p>WLS множить кожну змінну на <span class="math inline">\(1/\sqrt{h(x_i)} = 1/x_i\)</span>.</p>
</section>
<section id="симуляція-3" class="slide level2">
<h2>Симуляція</h2>
<p>У цій симуляції ми хочемо порівняти</p>
<ol type="1">
<li><strong>Ефективність</strong>
<ul>
<li>OLS</li>
<li>WLS з правильними вагами: <span class="math inline">\(h(x_i) = x_i\)</span></li>
<li>WLS з неправильними вагами: <span class="math inline">\(h(x_i) = \sqrt{x_i}\)</span></li>
</ul></li>
<li>Наскільки ефективні наші <strong>стандартні помилки</strong> (через довірчі інтервали) зі
<ul>
<li>Звичайні стандартні помилки OLS</li>
<li>Heteroskedasticity-robust standard errors</li>
<li>Стандартні помилки WLS</li>
</ul></li>
</ol>
</section>
<section id="симуляція-4" class="slide level2">
<h2>Симуляція</h2>
<p>Алгоритм симуляції:</p>
<p>Виконайте 10 000 разів:</p>
<ol type="1">
<li><p>Згенеруйте вибірку розміром 30 із сукупності</p></li>
<li><p>Обчисліть/збережіть оцінки OLS та WLS (×2) для β<sub>1</sub></p></li>
<li><p>Обчисліть/збережіть стандартні помилки для використання β<sub>1</sub>.</p>
<ul>
<li>Звичайні стандартні помилки OLS</li>
<li>Heteroskedasticity-robust standard errors</li>
<li>WLS (правильно)</li>
<li>WLS (неправильно)</li>
</ul></li>
</ol>
</section>
<section id="симуляція-5" class="slide level2">
<h2>Симуляція</h2>
<p><strong>Для однієї ітерації симуляції:</strong></p>
<p>Код для створення даних…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Parameters</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>b0 <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>b1 <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>s2 <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co"># Sample size</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co"># Generate data</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>sample_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="at">x =</span> <span class="fu">runif</span>(n, <span class="fl">0.5</span>, <span class="fl">1.5</span>),</span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="at">y =</span> b0 <span class="sc">+</span> b1 <span class="sc">*</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="at">sd =</span> s2 <span class="sc">*</span> x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb15-11"><a href="#cb15-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="симуляція-6" class="slide level2">
<h2>Симуляція</h2>
<p><strong>Для однієї ітерації симуляції:</strong></p>
<p>Код для оцінки наших коефіцієнтів і стандартних помилок…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># OLS</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>ols <span class="ot">&lt;-</span> <span class="fu">feols</span>(y <span class="sc">~</span> x, <span class="at">data =</span> sample_df)</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># WLS: Correct weights</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>wls_t <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> sample_df, <span class="at">weights =</span> <span class="dv">1</span><span class="sc">/</span>x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># WLS: Correct weights</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>wls_f <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> sample_df, <span class="at">weights =</span> <span class="dv">1</span><span class="sc">/</span>x)</span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co"># Coefficients and standard errors</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="fu">summary</span>(ols, <span class="at">vcov =</span> <span class="st">'iid'</span>)</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="fu">summary</span>(ols, <span class="at">vcov =</span> <span class="st">'hetero'</span>)</span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="fu">summary</span>(wls_t)</span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="fu">summary</span>(wls_f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Потім збережіть результати.</p>
</section>
<section id="симуляція-коефіцієнти" class="slide level2">
<h2>Симуляція: коефіцієнти</h2>

<img data-src="05_files/figure-revealjs/sim%20plot%20efficiency-1.png" width="960" class="r-stretch"></section>
<section id="симуляція-висновок" class="slide level2">
<h2>Симуляція: висновок</h2>

<img data-src="05_files/figure-revealjs/sim%20plot%20t%20stat-1.png" width="960" class="r-stretch"></section>
<section id="симуляція-результат" class="slide level2">
<h2>Симуляція: результат</h2>
<p>Узагальнення результатів нашого моделювання (10 000 ітерацій)</p>
<div class="columns">
<div class="column" style="width:40%;">
<p><strong>Оцінка</strong>: Summary <span class="math inline">\(\hat{\beta}_1\)</span></p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Estimator </th>
   <th style="text-align:right;"> Mean </th>
   <th style="text-align:right;"> S.D. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> OLS </td>
   <td style="text-align:right;"> 10.029 </td>
   <td style="text-align:right;"> 0.889 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WLS Correct </td>
   <td style="text-align:right;"> 10.042 </td>
   <td style="text-align:right;"> 0.675 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WLS Incorrect </td>
   <td style="text-align:right;"> 10.036 </td>
   <td style="text-align:right;"> 0.763 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div><div class="column" style="width:60%;">
<p><strong>Висновок: </strong> % випадків ми відхиляємо <span class="math inline">\(\beta_1\)</span></p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Estimators </th>
   <th style="text-align:right;"> % Reject </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> OLS + Het.-robust </td>
   <td style="text-align:right;"> 6.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> OLS + Homosk. </td>
   <td style="text-align:right;"> 8.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WLS Correct </td>
   <td style="text-align:right;"> 7.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WLS Incorrect </td>
   <td style="text-align:right;"> 7.8 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="припущення" class="slide level2">
<h2>Припущення</h2>
<p>Згадайте наше старе припущення, яке призвело до обговорення гетероскедастичності:</p>
<blockquote>
<p>5. Збурення мають <span class="slate"><strong>постійну дисперсія</strong></span> <span class="math inline">\(\sigma^2\)</span> <br>та <span class="hi">нульову коваріацію</span>, <em>тобто</em>, - <span class="math inline">\(\color{#314f4f}{\mathop{\boldsymbol{E}}\left[ u_i^2 \middle| X_i \right] = \mathop{\text{Var}} \left( u_i \middle| X_i \right) = \sigma^2 \implies \mathop{\text{Var}} \left( u_i \right) = \sigma^2}\)</span> - <span class="math inline">\(\color{#e64173}{\mathop{\text{Cov}} \left( u_i, \, u_j \middle| X_i,\,X_j \right) = \mathop{\boldsymbol{E}}\left[ u_i u_j \middle| X_i,\,X_j \right] = 0}\)</span> for <span class="math inline">\(i\neq j\)</span></p>
</blockquote>
<div class="fragment">
<p><span class="slate"><strong>Порушення постійної дисперсії</strong></span> <span class="math inline">\(=\)</span> <span class="slate"><strong>heteroskedasticity</strong></span></p>
<p>Також можливо (імовірно), що <span class="pink">збурення корельовані</span>.</p>
<p>Ігнорування цієї кореляції ще більш проблематично для висновків.</p>
</div>
</section>
<section id="проблема" class="slide level2">
<h2>Проблема</h2>
<p>У багатьох випадках <span class="pink">збурення спостережень</span> <span class="math inline">\(\left(u_i,\,u_j\right)\)</span> <span class="pink">можуть бути корелювані</span>.</p>
<p><em>Запам’ятай</em></p>
<ul>
<li><span class="pink">збурення</span> представляє невключені змінні, які впливають на <span class="math inline">\(y\)</span>.</li>
<li>Деякі <span class="pink">спостереження</span> у вибірці можуть <em>пов’язуватися</em> з іншими спостереженнями.</li>
</ul>
<p>Якщо ці взаємозв’язки на рівні спостереження поширюються на змінні в збуренні, тоді збурення можуть корелювати.</p>
<p><span class="math inline">\(\implies \mathop{\text{Cov}} \left( u_i, \, u_j \middle| X_i,\,X_j \right) \color{#e64173}{\neq} 0\)</span>.</p>
<div class="fragment">
<p>Ігнорування цієї кореляції може спричинити <strong>великі проблеми</strong> у вашому висновку.</p>
</div>
</section>
<section id="інтуїція" class="slide level2">
<h2>Інтуїція</h2>
<p>Чому ігнорування такої кореляції призводить до проблем?</p>
<p><strong>Помилкова точність</strong>: ми можемо стати «надто впевненими» у своїх знаннях.</p>
<p><strong>Екстремальний приклад</strong>: якщо дублювати свій набір даних (складати його поверх самого себе), звичайні стандартні помилки OLS зменшуватимуться кожного разу, коли ви дублюватимете набір даних.</p>
</section>
<section class="slide level2">

<div class="cell" data-hash="05_cache/revealjs/dup-data_5c0c8ac1d2e344f0870b4716f634622f">

</div>
<p>Вплив дублювання наших даних на <span class="pink">стандартна помилки МНК</span> параметра <code>ratio</code>.</p>

<img data-src="05_files/figure-revealjs/dup-plot1-1.png" width="960" class="r-stretch"></section>
<section class="slide level2">

<p>Виправляємо наші <span class="orange">стандартні помилки</span> (кореляція спостережень).</p>

<img data-src="05_files/figure-revealjs/dup-plot2-1.png" width="960" class="r-stretch"></section>
<section id="приклади" class="slide level2">
<h2>Приклади</h2>
<p>«Реальні» приклади, коли збурення можуть корелювати:</p>
<ul>
<li>Учні в класі (діляться вчителем, навчальним планом тощо)</li>
<li>Підприємства в місті</li>
<li>Послідовні дні у вибірці (поділіться подіями, погодою тощо)</li>
</ul>
</section>
<section id="рішення" class="slide level2">
<h2>Рішення</h2>
<p>Подібно до того, як ми обчислюємо <em>heteroskedasticity</em>-robust standard errors, <br>ми також можемо розрахувати стандартні помилки, стійкі до корельованих збурень.</p>
<p>Люди називають це <span class="pink"><em>cluster-robust standard errors</em></span> (або просто <em>clustered</em>).</p>
<p>З пакета <code>fixest</code>:</p>
<p><code>feols(y ~ x, дані = fake_data, cluster = 'cluster_var')</code></p>
<p>або навіть</p>
<p><code>feols(y ~ x, дані = fake_data, cluster = c('cluster1', 'cluster2'))</code></p>
</section>
<section id="кращий-висновок" class="slide level2">
<h2>Кращий висновок</h2>
<ol type="1">
<li><p>Ви повинні за замовчуванням вважати, що ваші дані гетероскедастичні</p></li>
<li><p>Подумайте про те, як ваші пояснювальні змінні та/або порушення корелюють між спостереженнями.</p></li>
</ol>
</section></section>
<section id="дякую-за-увагу" class="title-slide slide level1 unnumbered unlisted center">
<h1>Дякую за увагу!</h1>
<p><br> <br></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 128C0 92.65 28.65 64 64 64H448C483.3 64 512 92.65 512 128V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V128zM48 128V150.1L220.5 291.7C241.1 308.7 270.9 308.7 291.5 291.7L464 150.1V127.1C464 119.2 456.8 111.1 448 111.1H64C55.16 111.1 48 119.2 48 127.1L48 128zM48 212.2V384C48 392.8 55.16 400 64 400H448C456.8 400 464 392.8 464 384V212.2L322 328.8C283.6 360.3 228.4 360.3 189.1 328.8L48 212.2z"></path></svg> ihor.miroshnychenko@kneu.ua</p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"></path></svg> <a href="https://t.me/araprof">Data Mirosh</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> <a href="https://www.linkedin.com/in/ihormiroshnychenko/">@ihormiroshnychenko</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> <a href="https://github.com/Aranaur">@aranaur</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"></path></svg> <a href="https://aranaur.rbind.io">aranaur.rbind.io</a></p>

<img src="img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section>


    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="05_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="05_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="05_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="05_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="05_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="05_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="05_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="05_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="05_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="05_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="05_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: true,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>